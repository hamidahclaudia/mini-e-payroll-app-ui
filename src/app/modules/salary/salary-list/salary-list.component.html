<div class="container my-4">
	<h2 class="text-center">Process Employee Salaries</h2>

	<!-- Salary Date Selection -->
	<div class="row mb-3">
		<div class="col-md-6">
			<label class="form-label">Salary Date:</label>
			<input type="date" class="form-control" [(ngModel)]="salaryDate" required>
		</div>
		<div class="col-md-3 d-flex align-items-end">
			<button class="btn btn-primary w-100" (click)="fetchEligibleEmployees()">
				<i class="bi bi-search"></i> Get Eligible Employees
			</button>
		</div>
	</div>

	<!-- Eligible Employees Table -->
	<div class="table-responsive">
		<table class="table table-bordered table-hover">
			<thead class="table-dark text-center">
				<tr>
					<th>Select</th>
					<th>Name</th>
					<th>Basic Salary</th>
					<th>Allowances</th>
					<th>Deductions</th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let emp of employees">
					<td class="text-center">
						<input class="form-check-input" type="checkbox" (change)="toggleEmployeeSelection(emp)">
					</td>
					<td>{{ emp.fullName }}</td>
					<td>{{ emp.basicSalary | customCurrency }}</td>
					<td>{{ getTotalAllowances(emp) | customCurrency }}</td>
					<td>{{ getTotalDeductions(emp) | customCurrency }}</td>
				</tr>
			</tbody>
		</table>
	</div>

	<!-- Process Salary Button -->
	<div class="d-flex justify-content-end mt-3">
		<button class="btn btn-success" (click)="processSalary()" [disabled]="isProcessing || !salaryDate">
			<i class="bi bi-cash-coin"></i> Process Salary
		</button>
	</div>	
</div>
